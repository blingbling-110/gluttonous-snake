(()=>{"use strict";const e=function(){function e(){this.element=document.getElementById("food"),this.change()}return Object.defineProperty(e.prototype,"x",{get:function(){return this.element.offsetLeft},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.element.offsetTop},enumerable:!1,configurable:!0}),e.prototype.change=function(){this.element.style.left=10*Math.round(29*Math.random())+"px",this.element.style.top=10*Math.round(29*Math.random())+"px"},e}(),t=function(){function e(){this.isLive=!0,this.element=document.getElementById("snake"),this.head=document.querySelector("#snake > div"),this.body=this.element.getElementsByTagName("div"),this.x=10*Math.round(29*Math.random()),this.y=10*Math.round(29*Math.random())}return Object.defineProperty(e.prototype,"x",{get:function(){return this.head.offsetLeft},set:function(e){switch(!0){case this.x===e:break;case e<0||e>290:this.isLive=!1;break;default:this.head.style.left=e+"px"}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.head.offsetTop},set:function(e){switch(!0){case this.y===e:break;case e<0||e>290:this.isLive=!1;break;default:this.head.style.top=e+"px"}},enumerable:!1,configurable:!0}),e.prototype.addBody=function(){this.element.insertAdjacentHTML("beforeend","<div></div>")},e}(),n=function(){function e(e,t){void 0===e&&(e=9),void 0===t&&(t=10),this.score=0,this.level=1,this.maxLevel=e,this.upScore=t,this.scoreEle=document.getElementById("score"),this.levelEle=document.getElementById("level")}return e.prototype.addScore=function(){this.scoreEle.textContent=++this.score+"",this.score%this.upScore==0&&this.levelup()},e.prototype.levelup=function(){this.level<this.maxLevel&&(this.levelEle.textContent=++this.level+"")},e}();var i=[["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"],["Up","Right","Down","Left"],["w","d","s","a"],["W","D","S","A"]];(new(function(){function o(){this.direction=-1,this.snake=new t,this.food=new e,this.panel=new n}return o.prototype.init=function(){document.addEventListener("keydown",this.keydownCb.bind(this)),this.runSnake()},o.prototype.keydownCb=function(e){var t=this;i.some((function(n){var i=n.findIndex((function(t){return e.key===t}));return-1!==i&&(t.direction=i,!0)}))},o.prototype.runSnake=function(){var e=this.snake.x,t=this.snake.y;switch(this.direction){case 0:t-=10;break;case 1:e+=10;break;case 2:t+=10;break;case 3:e-=10}this.snake.x=e,this.snake.y=t,this.check(e,t),this.snake.isLive?setTimeout(this.runSnake.bind(this),300-30*this.panel.level):alert("Game Over!")},o.prototype.check=function(e,t){e===this.food.x&&t===this.food.y&&(this.food.change(),this.panel.addScore(),this.snake.addBody())},o}())).init()})();